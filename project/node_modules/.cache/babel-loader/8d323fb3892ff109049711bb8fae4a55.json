{"ast":null,"code":"import _toConsumableArray from\"D:/frontend/\\u041A\\u0443\\u0440\\u0441\\u044B \\u0444\\u0440\\u043E\\u043D\\u0442\\u0435\\u043D\\u0434/274941-what-to-watch-10/project/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{Link}from'react-router-dom';import{ALL_GENRES}from'../../const';import{useAppDispatch,useAppSelector}from'../../hooks';import{changeGenre,cutFilteredFilms,filterByGenre,resetFilter}from'../../store/film-screening/film-screening';import{getGenreCurrent,getRawFilms}from'../../store/film-screening/selector';import{jsx as _jsx}from\"react/jsx-runtime\";function getListGenres(list){var set=new Set();list.forEach(function(el){return set.add(el.genre);});return[ALL_GENRES].concat(_toConsumableArray(Array.from(set)));}function ListGenres(){var genreCurrent=useAppSelector(getGenreCurrent);var films=useAppSelector(getRawFilms);var genres=getListGenres(films);var dispatch=useAppDispatch();var itemClass='catalog__genres-item';var itemActiveClass='catalog__genres-item--active';return/*#__PURE__*/_jsx(\"ul\",{className:\"catalog__genres-list\",children:genres.map(function(el){return/*#__PURE__*/_jsx(\"li\",{className:el===genreCurrent?\"\".concat(itemClass,\" \").concat(itemActiveClass):itemClass,onClick:function onClick(){dispatch(resetFilter());dispatch(changeGenre(el));dispatch(filterByGenre());dispatch(cutFilteredFilms());},children:/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"catalog__genres-link\",children:el})},el);})});}export default ListGenres;","map":{"version":3,"names":["Link","ALL_GENRES","useAppDispatch","useAppSelector","changeGenre","cutFilteredFilms","filterByGenre","resetFilter","getGenreCurrent","getRawFilms","getListGenres","list","set","Set","forEach","el","add","genre","Array","from","ListGenres","genreCurrent","films","genres","dispatch","itemClass","itemActiveClass","map"],"sources":["D:/frontend/Курсы фронтенд/274941-what-to-watch-10/project/src/components/list-genres/list-genres.tsx"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport { ALL_GENRES } from '../../const';\nimport { useAppDispatch, useAppSelector } from '../../hooks';\nimport { changeGenre, cutFilteredFilms, filterByGenre, resetFilter } from '../../store/film-screening/film-screening';\nimport { getGenreCurrent, getRawFilms } from '../../store/film-screening/selector';\nimport { Films } from '../../types/films';\n\n\nfunction getListGenres(list: Films) {\n  const set = new Set<string>();\n  list.forEach((el) => set.add(el.genre));\n\n  return [ALL_GENRES, ...Array.from(set)];\n}\n\n\nfunction ListGenres(): JSX.Element {\n  const genreCurrent = useAppSelector(getGenreCurrent);\n  const films = useAppSelector(getRawFilms);\n  const genres = getListGenres(films);\n\n  const dispatch = useAppDispatch();\n\n  const itemClass = 'catalog__genres-item';\n  const itemActiveClass = 'catalog__genres-item--active';\n\n  return (\n    <ul className=\"catalog__genres-list\">\n      {\n        genres.map((el) => (\n          <li key={el}\n            className={el === genreCurrent\n              ? `${itemClass} ${itemActiveClass}`\n              : itemClass}\n            onClick={() => {\n              dispatch(resetFilter());\n              dispatch(changeGenre(el));\n              dispatch(filterByGenre());\n              dispatch(cutFilteredFilms());\n            }}\n          >\n            <Link to=\"#\" className=\"catalog__genres-link\">{el}</Link>\n          </li>\n        ))\n      }\n    </ul>\n  );\n}\n\nexport default ListGenres;\n"],"mappings":"yNAAA,OAASA,IAAT,KAAqB,kBAArB,CACA,OAASC,UAAT,KAA2B,aAA3B,CACA,OAASC,cAAT,CAAyBC,cAAzB,KAA+C,aAA/C,CACA,OAASC,WAAT,CAAsBC,gBAAtB,CAAwCC,aAAxC,CAAuDC,WAAvD,KAA0E,2CAA1E,CACA,OAASC,eAAT,CAA0BC,WAA1B,KAA6C,qCAA7C,C,2CAIA,QAASC,cAAT,CAAuBC,IAAvB,CAAoC,CAClC,GAAMC,IAAG,CAAG,GAAIC,IAAJ,EAAZ,CACAF,IAAI,CAACG,OAAL,CAAa,SAACC,EAAD,QAAQH,IAAG,CAACI,GAAJ,CAAQD,EAAE,CAACE,KAAX,CAAR,EAAb,EAEA,OAAQhB,UAAR,4BAAuBiB,KAAK,CAACC,IAAN,CAAWP,GAAX,CAAvB,GACD,CAGD,QAASQ,WAAT,EAAmC,CACjC,GAAMC,aAAY,CAAGlB,cAAc,CAACK,eAAD,CAAnC,CACA,GAAMc,MAAK,CAAGnB,cAAc,CAACM,WAAD,CAA5B,CACA,GAAMc,OAAM,CAAGb,aAAa,CAACY,KAAD,CAA5B,CAEA,GAAME,SAAQ,CAAGtB,cAAc,EAA/B,CAEA,GAAMuB,UAAS,CAAG,sBAAlB,CACA,GAAMC,gBAAe,CAAG,8BAAxB,CAEA,mBACE,WAAI,SAAS,CAAC,sBAAd,UAEIH,MAAM,CAACI,GAAP,CAAW,SAACZ,EAAD,qBACT,WACE,SAAS,CAAEA,EAAE,GAAKM,YAAP,WACJI,SADI,aACSC,eADT,EAEPD,SAHN,CAIE,OAAO,CAAE,kBAAM,CACbD,QAAQ,CAACjB,WAAW,EAAZ,CAAR,CACAiB,QAAQ,CAACpB,WAAW,CAACW,EAAD,CAAZ,CAAR,CACAS,QAAQ,CAAClB,aAAa,EAAd,CAAR,CACAkB,QAAQ,CAACnB,gBAAgB,EAAjB,CAAR,CACD,CATH,uBAWE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,sBAAvB,UAA+CU,EAA/C,EAXF,EAASA,EAAT,CADS,EAAX,CAFJ,EADF,CAqBD,CAED,cAAeK,WAAf"},"metadata":{},"sourceType":"module"}