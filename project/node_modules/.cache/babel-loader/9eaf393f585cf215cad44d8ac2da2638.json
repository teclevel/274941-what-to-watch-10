{"ast":null,"code":"import{useRef}from'react';import{useNavigate}from'react-router-dom';import Footer from'../../components/footer/footer';import Logo from'../../components/logo/logo';import{AppRoute}from'../../const';import{useAppDispatch}from'../../hooks';import{loginAction}from'../../store/api-actions';import{isValidPassword}from'../../utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignIn(){var loginRef=useRef(null);var passwordRef=useRef(null);var dispatch=useAppDispatch();var navigate=useNavigate();var onSubmit=function onSubmit(authData){dispatch(loginAction(authData));};var handleSubmit=function handleSubmit(evt){evt.preventDefault();if(loginRef.current!==null&&passwordRef.current!==null&&isValidPassword(passwordRef.current.value)){onSubmit({login:loginRef.current.value,password:passwordRef.current.value});navigate(AppRoute.Main);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"user-page\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"page-header user-page__head\",children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(\"h1\",{className:\"page-title user-page__title\",children:\"Sign in\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sign-in user-page__content\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",className:\"sign-in__form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in__fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in__field\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"sign-in__input\",type:\"email\",placeholder:\"Email address\",name:\"user-email\",id:\"user-email\",ref:loginRef,required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"sign-in__label visually-hidden\",htmlFor:\"user-email\",children:\"Email address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in__field\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"sign-in__input\",type:\"password\",placeholder:\"Password\",name:\"user-password\",id:\"user-password\",ref:passwordRef,required:true,title:\"Password must contain at least one letter and number\"}),/*#__PURE__*/_jsx(\"label\",{className:\"sign-in__label visually-hidden\",htmlFor:\"user-password\",children:\"Password\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sign-in__submit\",children:/*#__PURE__*/_jsx(\"button\",{className:\"sign-in__btn\",type:\"submit\",children:\"Sign in\"})})]})}),/*#__PURE__*/_jsx(Footer,{})]});}export default SignIn;","map":{"version":3,"names":["useRef","useNavigate","Footer","Logo","AppRoute","useAppDispatch","loginAction","isValidPassword","SignIn","loginRef","passwordRef","dispatch","navigate","onSubmit","authData","handleSubmit","evt","preventDefault","current","value","login","password","Main"],"sources":["D:/frontend/Курсы фронтенд/274941-what-to-watch-10/project/src/pages/sign-in/sign-in.tsx"],"sourcesContent":["import { FormEvent, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Footer from '../../components/footer/footer';\nimport Logo from '../../components/logo/logo';\nimport { AppRoute } from '../../const';\nimport { useAppDispatch } from '../../hooks';\nimport { loginAction } from '../../store/api-actions';\nimport { AuthData } from '../../types/auth-data';\nimport { isValidPassword } from '../../utils';\n\n\nfunction SignIn(): JSX.Element {\n  const loginRef = useRef<HTMLInputElement | null>(null);\n  const passwordRef = useRef<HTMLInputElement | null>(null);\n\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n\n  const onSubmit = (authData: AuthData) => {\n    dispatch(loginAction(authData));\n  };\n\n  const handleSubmit = (evt: FormEvent<HTMLFormElement>) => {\n    evt.preventDefault();\n    if (loginRef.current !== null\n      && passwordRef.current !== null\n      && isValidPassword(passwordRef.current.value)) {\n      onSubmit({\n        login: loginRef.current.value,\n        password: passwordRef.current.value,\n      });\n      navigate(AppRoute.Main);\n    }\n  };\n\n  return (\n    <div className=\"user-page\">\n      <header className=\"page-header user-page__head\">\n        <Logo />\n        <h1 className=\"page-title user-page__title\">Sign in</h1>\n      </header>\n      <div className=\"sign-in user-page__content\">\n        <form action=\"\" className=\"sign-in__form\"\n          onSubmit={handleSubmit}\n        >\n          <div className=\"sign-in__fields\">\n            <div className=\"sign-in__field\">\n              <input className=\"sign-in__input\" type=\"email\" placeholder=\"Email address\" name=\"user-email\"\n                id=\"user-email\"\n                ref={loginRef}\n                required\n              />\n              <label className=\"sign-in__label visually-hidden\" htmlFor=\"user-email\">Email address</label>\n            </div>\n            <div className=\"sign-in__field\">\n              <input className=\"sign-in__input\" type=\"password\" placeholder=\"Password\" name=\"user-password\"\n                id=\"user-password\"\n                ref={passwordRef}\n                required\n                title='Password must contain at least one letter and number'\n              />\n              <label className=\"sign-in__label visually-hidden\" htmlFor=\"user-password\">Password</label>\n            </div>\n          </div>\n          <div className=\"sign-in__submit\">\n            <button className=\"sign-in__btn\" type=\"submit\">\n              Sign in\n            </button>\n          </div>\n        </form>\n      </div >\n      <Footer />\n    </div >\n  );\n}\n\nexport default SignIn;\n"],"mappings":"AAAA,OAAoBA,MAApB,KAAkC,OAAlC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,OAAP,KAAmB,gCAAnB,CACA,MAAOC,KAAP,KAAiB,4BAAjB,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,OAASC,cAAT,KAA+B,aAA/B,CACA,OAASC,WAAT,KAA4B,yBAA5B,CAEA,OAASC,eAAT,KAAgC,aAAhC,C,wFAGA,QAASC,OAAT,EAA+B,CAC7B,GAAMC,SAAQ,CAAGT,MAAM,CAA0B,IAA1B,CAAvB,CACA,GAAMU,YAAW,CAAGV,MAAM,CAA0B,IAA1B,CAA1B,CAEA,GAAMW,SAAQ,CAAGN,cAAc,EAA/B,CACA,GAAMO,SAAQ,CAAGX,WAAW,EAA5B,CAEA,GAAMY,SAAQ,CAAG,QAAXA,SAAW,CAACC,QAAD,CAAwB,CACvCH,QAAQ,CAACL,WAAW,CAACQ,QAAD,CAAZ,CAAR,CACD,CAFD,CAIA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,GAAD,CAAqC,CACxDA,GAAG,CAACC,cAAJ,GACA,GAAIR,QAAQ,CAACS,OAAT,GAAqB,IAArB,EACCR,WAAW,CAACQ,OAAZ,GAAwB,IADzB,EAECX,eAAe,CAACG,WAAW,CAACQ,OAAZ,CAAoBC,KAArB,CAFpB,CAEiD,CAC/CN,QAAQ,CAAC,CACPO,KAAK,CAAEX,QAAQ,CAACS,OAAT,CAAiBC,KADjB,CAEPE,QAAQ,CAAEX,WAAW,CAACQ,OAAZ,CAAoBC,KAFvB,CAAD,CAAR,CAIAP,QAAQ,CAACR,QAAQ,CAACkB,IAAV,CAAR,CACD,CACF,CAXD,CAaA,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,gBAAQ,SAAS,CAAC,6BAAlB,wBACE,KAAC,IAAD,IADF,cAEE,WAAI,SAAS,CAAC,6BAAd,qBAFF,GADF,cAKE,YAAK,SAAS,CAAC,4BAAf,uBACE,cAAM,MAAM,CAAC,EAAb,CAAgB,SAAS,CAAC,eAA1B,CACE,QAAQ,CAAEP,YADZ,wBAGE,aAAK,SAAS,CAAC,iBAAf,wBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,cAAO,SAAS,CAAC,gBAAjB,CAAkC,IAAI,CAAC,OAAvC,CAA+C,WAAW,CAAC,eAA3D,CAA2E,IAAI,CAAC,YAAhF,CACE,EAAE,CAAC,YADL,CAEE,GAAG,CAAEN,QAFP,CAGE,QAAQ,KAHV,EADF,cAME,cAAO,SAAS,CAAC,gCAAjB,CAAkD,OAAO,CAAC,YAA1D,2BANF,GADF,cASE,aAAK,SAAS,CAAC,gBAAf,wBACE,cAAO,SAAS,CAAC,gBAAjB,CAAkC,IAAI,CAAC,UAAvC,CAAkD,WAAW,CAAC,UAA9D,CAAyE,IAAI,CAAC,eAA9E,CACE,EAAE,CAAC,eADL,CAEE,GAAG,CAAEC,WAFP,CAGE,QAAQ,KAHV,CAIE,KAAK,CAAC,sDAJR,EADF,cAOE,cAAO,SAAS,CAAC,gCAAjB,CAAkD,OAAO,CAAC,eAA1D,sBAPF,GATF,GAHF,cAsBE,YAAK,SAAS,CAAC,iBAAf,uBACE,eAAQ,SAAS,CAAC,cAAlB,CAAiC,IAAI,CAAC,QAAtC,qBADF,EAtBF,GADF,EALF,cAmCE,KAAC,MAAD,IAnCF,GADF,CAuCD,CAED,cAAeF,OAAf"},"metadata":{},"sourceType":"module"}