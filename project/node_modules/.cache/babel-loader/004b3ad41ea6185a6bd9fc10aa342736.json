{"ast":null,"code":"import _slicedToArray from\"D:/frontend/\\u041A\\u0443\\u0440\\u0441\\u044B \\u0444\\u0440\\u043E\\u043D\\u0442\\u0435\\u043D\\u0434/274941-what-to-watch-10/project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useRef,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";function VideoPlayer(_ref){var src=_ref.src,poster=_ref.poster,autoPlay=_ref.autoPlay,muted=_ref.muted;// eslint-disable-next-line @typescript-eslint/no-unused-vars\nvar _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];// eslint-disable-next-line @typescript-eslint/no-unused-vars\nvar _useState3=useState(autoPlay),_useState4=_slicedToArray(_useState3,2),isPlaying=_useState4[0],setIsPlaying=_useState4[1];var videoRef=useRef(null);useEffect(function(){if(videoRef.current===null){return;}videoRef.current.addEventListener('loadeddata',function(){return setIsLoading(false);});if(isPlaying){videoRef.current.play();return;}videoRef.current.pause();},[isPlaying]);return/*#__PURE__*/_jsx(\"video\",{className:\"player__video\",src:src,poster:poster,ref:videoRef,muted:muted});}export default VideoPlayer;","map":{"version":3,"names":["useEffect","useRef","useState","VideoPlayer","src","poster","autoPlay","muted","isLoading","setIsLoading","isPlaying","setIsPlaying","videoRef","current","addEventListener","play","pause"],"sources":["D:/frontend/Курсы фронтенд/274941-what-to-watch-10/project/src/components/video-player/video-player.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\n\ntype VideoPlayerProps = {\n  poster: string,\n  autoPlay: boolean,\n  src: string,\n  muted: boolean\n}\n\nfunction VideoPlayer({ src, poster, autoPlay, muted }: VideoPlayerProps): JSX.Element {\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [isLoading, setIsLoading] = useState(true);\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [isPlaying, setIsPlaying] = useState(autoPlay);\n\n  const videoRef = useRef<HTMLVideoElement | null>(null);\n\n\n  useEffect(() => {\n    if (videoRef.current === null) {\n      return;\n    }\n\n    videoRef.current.addEventListener('loadeddata', () => setIsLoading(false));\n\n    if (isPlaying) {\n      videoRef.current.play();\n      return;\n    }\n\n    videoRef.current.pause();\n  }, [isPlaying]);\n\n  return (\n    <video className=\"player__video\"\n      src={src}\n      poster={poster}\n      ref={videoRef}\n      muted={muted}\n    >\n    </video>\n  );\n}\n\nexport default VideoPlayer;\n"],"mappings":"iNAAA,OAASA,SAAT,CAAoBC,MAApB,CAA4BC,QAA5B,KAA4C,OAA5C,C,2CASA,QAASC,YAAT,MAAsF,IAA/DC,IAA+D,MAA/DA,GAA+D,CAA1DC,MAA0D,MAA1DA,MAA0D,CAAlDC,QAAkD,MAAlDA,QAAkD,CAAxCC,KAAwC,MAAxCA,KAAwC,CAEpF;AACA,cAAkCL,QAAQ,CAAC,IAAD,CAA1C,wCAAOM,SAAP,eAAkBC,YAAlB,eACA;AACA,eAAkCP,QAAQ,CAACI,QAAD,CAA1C,yCAAOI,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,SAAQ,CAAGX,MAAM,CAA0B,IAA1B,CAAvB,CAGAD,SAAS,CAAC,UAAM,CACd,GAAIY,QAAQ,CAACC,OAAT,GAAqB,IAAzB,CAA+B,CAC7B,OACD,CAEDD,QAAQ,CAACC,OAAT,CAAiBC,gBAAjB,CAAkC,YAAlC,CAAgD,iBAAML,aAAY,CAAC,KAAD,CAAlB,EAAhD,EAEA,GAAIC,SAAJ,CAAe,CACbE,QAAQ,CAACC,OAAT,CAAiBE,IAAjB,GACA,OACD,CAEDH,QAAQ,CAACC,OAAT,CAAiBG,KAAjB,GACD,CAbQ,CAaN,CAACN,SAAD,CAbM,CAAT,CAeA,mBACE,cAAO,SAAS,CAAC,eAAjB,CACE,GAAG,CAAEN,GADP,CAEE,MAAM,CAAEC,MAFV,CAGE,GAAG,CAAEO,QAHP,CAIE,KAAK,CAAEL,KAJT,EADF,CASD,CAED,cAAeJ,YAAf"},"metadata":{},"sourceType":"module"}