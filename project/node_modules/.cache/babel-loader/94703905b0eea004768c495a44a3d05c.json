{"ast":null,"code":"import Main from'../../pages/main/main';import SignIn from'../../pages/sign-in/sign-in';import MyList from'../../pages/my-list/my-list';import FilmPage from'../../pages/film-page/film-page';import AddReview from'../../pages/add-review/add-review';import Player from'../../pages/player/player';import{Route,Routes}from'react-router-dom';import{AppRoute}from'../../const';import PrivateRoute from'../private-route/private-route';import{useAppSelector}from'../../hooks';import LoadingScreen from'../../pages/loading-screen/loading-screen';import{isCheckedAuth}from'../../utils';import HistoryRouter from'../history-router/history-router';import browserHistory from'../../browser-history';import{getAuthorizationStatus}from'../../store/user-process/selector';import{getLoadedFilmsStatus,getLoadingFilmsErrorStatus}from'../../store/film-screening/selector';import GoToMainPage from'../../pages/go-to-main-page/go-to-main-page';import NotFoundPage from'../../pages/not-found-page/not-found-page';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var authorizationStatus=useAppSelector(getAuthorizationStatus);var isDataLoaded=useAppSelector(getLoadedFilmsStatus);var isFilmsLoadingError=useAppSelector(getLoadingFilmsErrorStatus);if(isFilmsLoadingError){return/*#__PURE__*/_jsx(NotFoundPage,{});}if(isCheckedAuth(authorizationStatus)||!isDataLoaded){return/*#__PURE__*/_jsx(LoadingScreen,{});}return/*#__PURE__*/_jsx(HistoryRouter,{history:browserHistory,children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:AppRoute.Main,element:/*#__PURE__*/_jsx(Main,{})}),/*#__PURE__*/_jsx(Route,{path:AppRoute.Login,element:/*#__PURE__*/_jsx(SignIn,{})}),/*#__PURE__*/_jsx(Route,{path:AppRoute.Film,element:/*#__PURE__*/_jsx(FilmPage,{})}),/*#__PURE__*/_jsx(Route,{path:AppRoute.AddReview,element:/*#__PURE__*/_jsx(PrivateRoute,{authorizationStatus:authorizationStatus,children:/*#__PURE__*/_jsx(AddReview,{})})}),/*#__PURE__*/_jsx(Route,{path:AppRoute.MyList,element:/*#__PURE__*/_jsx(PrivateRoute,{authorizationStatus:authorizationStatus,children:/*#__PURE__*/_jsx(MyList,{})})}),/*#__PURE__*/_jsx(Route,{path:AppRoute.Player,element:/*#__PURE__*/_jsx(Player,{})}),/*#__PURE__*/_jsx(Route,{path:AppRoute.NotFound,element:/*#__PURE__*/_jsx(GoToMainPage,{})})]})});}export default App;","map":{"version":3,"names":["Main","SignIn","MyList","FilmPage","AddReview","Player","Route","Routes","AppRoute","PrivateRoute","useAppSelector","LoadingScreen","isCheckedAuth","HistoryRouter","browserHistory","getAuthorizationStatus","getLoadedFilmsStatus","getLoadingFilmsErrorStatus","GoToMainPage","NotFoundPage","App","authorizationStatus","isDataLoaded","isFilmsLoadingError","Login","Film","NotFound"],"sources":["D:/frontend/Курсы фронтенд/274941-what-to-watch-10/project/src/components/app/app.tsx"],"sourcesContent":["import Main from '../../pages/main/main';\nimport SignIn from '../../pages/sign-in/sign-in';\nimport MyList from '../../pages/my-list/my-list';\nimport FilmPage from '../../pages/film-page/film-page';\nimport AddReview from '../../pages/add-review/add-review';\nimport Player from '../../pages/player/player';\nimport { Route, Routes } from 'react-router-dom';\nimport { AppRoute } from '../../const';\nimport PrivateRoute from '../private-route/private-route';\nimport { useAppSelector } from '../../hooks';\nimport LoadingScreen from '../../pages/loading-screen/loading-screen';\nimport { isCheckedAuth } from '../../utils';\nimport HistoryRouter from '../history-router/history-router';\nimport browserHistory from '../../browser-history';\nimport { getAuthorizationStatus } from '../../store/user-process/selector';\nimport { getLoadedFilmsStatus, getLoadingFilmsErrorStatus } from '../../store/film-screening/selector';\nimport GoToMainPage from '../../pages/go-to-main-page/go-to-main-page';\nimport NotFoundPage from '../../pages/not-found-page/not-found-page';\n\nfunction App(): JSX.Element {\n\n  const authorizationStatus = useAppSelector(getAuthorizationStatus);\n  const isDataLoaded = useAppSelector(getLoadedFilmsStatus);\n  const isFilmsLoadingError = useAppSelector(getLoadingFilmsErrorStatus);\n\n  if (isFilmsLoadingError) {\n    return <NotFoundPage />;\n  }\n\n  if (isCheckedAuth(authorizationStatus) || !isDataLoaded) {\n    return (\n      <LoadingScreen />\n    );\n  }\n\n\n  return (\n    <HistoryRouter history={browserHistory}>\n      <Routes>\n        <Route path={AppRoute.Main} element={<Main />} />\n\n        <Route path={AppRoute.Login} element={<SignIn />} />\n\n        <Route path={AppRoute.Film} element={<FilmPage />} />\n\n        <Route path={AppRoute.AddReview} element={\n          <PrivateRoute authorizationStatus={authorizationStatus}>\n            <AddReview />\n          </PrivateRoute>\n        }\n        />\n\n        <Route path={AppRoute.MyList} element={\n          <PrivateRoute authorizationStatus={authorizationStatus}>\n            <MyList />\n          </PrivateRoute>\n        }\n        />\n\n        <Route path={AppRoute.Player} element={<Player />} />\n\n        <Route path={AppRoute.NotFound} element={<GoToMainPage />} />\n\n      </Routes >\n    </HistoryRouter >\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAOA,KAAP,KAAiB,uBAAjB,CACA,MAAOC,OAAP,KAAmB,6BAAnB,CACA,MAAOC,OAAP,KAAmB,6BAAnB,CACA,MAAOC,SAAP,KAAqB,iCAArB,CACA,MAAOC,UAAP,KAAsB,mCAAtB,CACA,MAAOC,OAAP,KAAmB,2BAAnB,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,kBAA9B,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,MAAOC,aAAP,KAAyB,gCAAzB,CACA,OAASC,cAAT,KAA+B,aAA/B,CACA,MAAOC,cAAP,KAA0B,2CAA1B,CACA,OAASC,aAAT,KAA8B,aAA9B,CACA,MAAOC,cAAP,KAA0B,kCAA1B,CACA,MAAOC,eAAP,KAA2B,uBAA3B,CACA,OAASC,sBAAT,KAAuC,mCAAvC,CACA,OAASC,oBAAT,CAA+BC,0BAA/B,KAAiE,qCAAjE,CACA,MAAOC,aAAP,KAAyB,6CAAzB,CACA,MAAOC,aAAP,KAAyB,2CAAzB,C,wFAEA,QAASC,IAAT,EAA4B,CAE1B,GAAMC,oBAAmB,CAAGX,cAAc,CAACK,sBAAD,CAA1C,CACA,GAAMO,aAAY,CAAGZ,cAAc,CAACM,oBAAD,CAAnC,CACA,GAAMO,oBAAmB,CAAGb,cAAc,CAACO,0BAAD,CAA1C,CAEA,GAAIM,mBAAJ,CAAyB,CACvB,mBAAO,KAAC,YAAD,IAAP,CACD,CAED,GAAIX,aAAa,CAACS,mBAAD,CAAb,EAAsC,CAACC,YAA3C,CAAyD,CACvD,mBACE,KAAC,aAAD,IADF,CAGD,CAGD,mBACE,KAAC,aAAD,EAAe,OAAO,CAAER,cAAxB,uBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAEN,QAAQ,CAACR,IAAtB,CAA4B,OAAO,cAAE,KAAC,IAAD,IAArC,EADF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAEQ,QAAQ,CAACgB,KAAtB,CAA6B,OAAO,cAAE,KAAC,MAAD,IAAtC,EAHF,cAKE,KAAC,KAAD,EAAO,IAAI,CAAEhB,QAAQ,CAACiB,IAAtB,CAA4B,OAAO,cAAE,KAAC,QAAD,IAArC,EALF,cAOE,KAAC,KAAD,EAAO,IAAI,CAAEjB,QAAQ,CAACJ,SAAtB,CAAiC,OAAO,cACtC,KAAC,YAAD,EAAc,mBAAmB,CAAEiB,mBAAnC,uBACE,KAAC,SAAD,IADF,EADF,EAPF,cAcE,KAAC,KAAD,EAAO,IAAI,CAAEb,QAAQ,CAACN,MAAtB,CAA8B,OAAO,cACnC,KAAC,YAAD,EAAc,mBAAmB,CAAEmB,mBAAnC,uBACE,KAAC,MAAD,IADF,EADF,EAdF,cAqBE,KAAC,KAAD,EAAO,IAAI,CAAEb,QAAQ,CAACH,MAAtB,CAA8B,OAAO,cAAE,KAAC,MAAD,IAAvC,EArBF,cAuBE,KAAC,KAAD,EAAO,IAAI,CAAEG,QAAQ,CAACkB,QAAtB,CAAgC,OAAO,cAAE,KAAC,YAAD,IAAzC,EAvBF,GADF,EADF,CA8BD,CAED,cAAeN,IAAf"},"metadata":{},"sourceType":"module"}