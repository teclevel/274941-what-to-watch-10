{"ast":null,"code":"import _slicedToArray from\"D:/frontend/\\u041A\\u0443\\u0440\\u0441\\u044B \\u0444\\u0440\\u043E\\u043D\\u0442\\u0435\\u043D\\u0434/274941-what-to-watch-10/project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useLayoutEffect}from'react';import{Router}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";function HistoryRouter(_ref){var basename=_ref.basename,children=_ref.children,history=_ref.history;var _useState=useState({action:history.action,location:history.location}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];useLayoutEffect(function(){return history.listen(setState);},[history]);return/*#__PURE__*/_jsx(Router,{basename:basename,location:state.location,navigationType:state.action,navigator:history,children:children});}export default HistoryRouter;","map":{"version":3,"names":["useState","useLayoutEffect","Router","HistoryRouter","basename","children","history","action","location","state","setState","listen"],"sources":["D:/frontend/Курсы фронтенд/274941-what-to-watch-10/project/src/components/history-router/history-router.tsx"],"sourcesContent":["import { useState, useLayoutEffect } from 'react';\nimport { Router } from 'react-router-dom';\nimport type { BrowserHistory } from 'history';\n\nexport interface HistoryRouterProps {\n  history: BrowserHistory\n  basename?: string\n  children?: React.ReactNode\n}\n\nfunction HistoryRouter({ basename, children, history, }: HistoryRouterProps) {\n  const [state, setState] = useState({\n    action: history.action,\n    location: history.location,\n  });\n\n  useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      basename={basename}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    >\n      {children}\n    </Router>\n  );\n}\n\nexport default HistoryRouter;\n"],"mappings":"iNAAA,OAASA,QAAT,CAAmBC,eAAnB,KAA0C,OAA1C,CACA,OAASC,MAAT,KAAuB,kBAAvB,C,2CASA,QAASC,cAAT,MAA6E,IAApDC,SAAoD,MAApDA,QAAoD,CAA1CC,QAA0C,MAA1CA,QAA0C,CAAhCC,OAAgC,MAAhCA,OAAgC,CAC3E,cAA0BN,QAAQ,CAAC,CACjCO,MAAM,CAAED,OAAO,CAACC,MADiB,CAEjCC,QAAQ,CAAEF,OAAO,CAACE,QAFe,CAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eAKAT,eAAe,CAAC,iBAAMK,QAAO,CAACK,MAAR,CAAeD,QAAf,CAAN,EAAD,CAAiC,CAACJ,OAAD,CAAjC,CAAf,CAEA,mBACE,KAAC,MAAD,EACE,QAAQ,CAAEF,QADZ,CAEE,QAAQ,CAAEK,KAAK,CAACD,QAFlB,CAGE,cAAc,CAAEC,KAAK,CAACF,MAHxB,CAIE,SAAS,CAAED,OAJb,UAMGD,QANH,EADF,CAUD,CAED,cAAeF,cAAf"},"metadata":{},"sourceType":"module"}